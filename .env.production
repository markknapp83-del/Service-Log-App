# Healthcare Service Log Portal - Production Environment Configuration
# CRITICAL: Replace all default values with secure production values

# =============================================================================
# SECURITY CONFIGURATION - CHANGE ALL DEFAULT VALUES
# =============================================================================

# JWT Secrets - MUST be changed for production
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE-THIS-TO-A-SECURE-64-CHARACTER-SECRET-KEY-FOR-PRODUCTION
JWT_REFRESH_SECRET=CHANGE-THIS-TO-A-DIFFERENT-SECURE-64-CHARACTER-REFRESH-SECRET

# Bcrypt rounds for password hashing (12-15 recommended for production)
BCRYPT_ROUNDS=12

# Session timeout in seconds (3600 = 1 hour)
SESSION_TIMEOUT=3600

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

NODE_ENV=production
PORT=3001

# API rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000
AUTH_RATE_LIMIT_MAX=5
AUTH_RATE_LIMIT_WINDOW=900000

# Request size limits
MAX_FILE_SIZE=10485760
MAX_REQUEST_SIZE=10mb

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database paths (use absolute paths in production)
DB_PATH=/app/database/healthcare.db
AUDIT_DB_PATH=/app/database/audit.db

# Database performance settings
DB_CACHE_SIZE=128000
DB_BUSY_TIMEOUT=60000
DB_MMAP_SIZE=268435456

# Backup configuration
BACKUP_RETENTION_DAYS=30
BACKUP_INTERVAL_HOURS=6

# =============================================================================
# CORS AND SECURITY HEADERS
# =============================================================================

# CORS origins (comma-separated list of allowed origins)
CORS_ORIGIN=https://your-production-domain.com,https://www.your-production-domain.com

# Content Security Policy domains
CSP_SCRIPT_SRC='self'
CSP_STYLE_SRC='self' 'unsafe-inline'
CSP_IMG_SRC='self' data: https:
CSP_CONNECT_SRC='self'

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL certificate paths (for Node.js HTTPS)
SSL_CERT_PATH=/etc/ssl/certs/healthcare-portal.crt
SSL_KEY_PATH=/etc/ssl/private/healthcare-portal.key

# Force HTTPS redirects
FORCE_HTTPS=true

# HSTS settings
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log retention settings
LOG_MAX_FILES=10
LOG_MAX_SIZE=10485760

# Enable performance metrics
ENABLE_METRICS=true
METRICS_PORT=9091

# Health check settings
HEALTH_CHECK_TIMEOUT=10000
HEALTH_CHECK_INTERVAL=30000

# =============================================================================
# HIPAA COMPLIANCE SETTINGS
# =============================================================================

# Audit logging
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years as per HIPAA requirements

# Data encryption at rest
ENABLE_DB_ENCRYPTION=true
DB_ENCRYPTION_KEY=CHANGE-THIS-TO-A-SECURE-32-CHARACTER-ENCRYPTION-KEY

# PHI handling
ENABLE_PHI_LOGGING=false
PHI_RETENTION_DAYS=2555
ENABLE_DATA_MASKING=true

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================

# Upload paths
UPLOAD_PATH=/app/uploads
TEMP_PATH=/app/temp

# File upload limits
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,jpg,jpeg,png
MAX_FILES_PER_REQUEST=5

# =============================================================================
# EMAIL CONFIGURATION (if using email notifications)
# =============================================================================

# SMTP settings (optional)
SMTP_HOST=your-smtp-host.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=your-email@domain.com
SMTP_PASS=your-email-password
FROM_EMAIL=noreply@your-domain.com

# =============================================================================
# EXTERNAL SERVICES (if applicable)
# =============================================================================

# API keys for external services
EXTERNAL_API_KEY=your-external-api-key
EXTERNAL_API_URL=https://api.external-service.com

# =============================================================================
# CONTAINER CONFIGURATION
# =============================================================================

# Docker volume paths
DATA_PATH=./data
BACKUP_PATH=./backups
LOG_PATH=./logs
UPLOAD_PATH=./uploads

# Container resource limits
MEMORY_LIMIT=1G
CPU_LIMIT=1.0

# =============================================================================
# DEVELOPMENT OVERRIDES (for staging environments)
# =============================================================================

# Uncomment for staging environment
# NODE_ENV=staging
# LOG_LEVEL=debug
# RATE_LIMIT_MAX=1000
# ENABLE_METRICS=true

# =============================================================================
# SECURITY NOTES
# =============================================================================

# 1. Change ALL default secrets and keys
# 2. Use strong, randomly generated passwords
# 3. Regularly rotate secrets (every 90 days recommended)
# 4. Store sensitive values in a secure key management system
# 5. Never commit this file with actual production values
# 6. Use different secrets for different environments
# 7. Monitor for unauthorized access attempts
# 8. Enable all security headers in production
# 9. Use HTTPS only in production
# 10. Regularly update dependencies and scan for vulnerabilities